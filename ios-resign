Step 1:	unzip MPOS_InHouse2.2.2_v4.ipa
Step 2: rm -rf ./Payload/MPOS.app/_CodeSignature
Strp 3: cp embedded.mobileprovision ./Payload/MPOS.app/embedded.mobileprovision
Step 4: 修改identifier,进入.app里面的Info.plist找到bundleId进行修改   com.demo.unionpay.testAPP com.unionpay.test.associatedomain
Step 5: codesign -f -s "iPhone Developer: binsheng zhang (BLNPDWQJDT)"  --entitlements ./entitlements.plist ./Payload/MPOS.app
Step 6: zip -r olinone.ipa ./Payload


附录：
entitlements.plist创建方法：
security cms -D -i ./embedded.mobileprovision > t_entitlements_full.plist
/usr/libexec/PlistBuddy -x -c 'Print:Entitlements' t_entitlements_full.plist > entitlements.plist

可以执行命令查看是否重签成功：
1：codesign -d --entitlements - ./Payload/MPOS.app
2：security cms -D -i myembedded.mobileprovision
3：codesign -vv -d ./Payload/MPOS.app  查看id和证书

security find-identity -v -p codesigning

json to plist:
plutil -convert xml1 data.json -o data.plist
plist to json: 
plutil -convert json data.plist -o data.json
